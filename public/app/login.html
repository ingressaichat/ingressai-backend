<!doctype html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Login — IngressAI</title>
<style>
  body{font:16px/1.45 -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Ubuntu,Inter,system-ui,sans-serif;background:#f6f8fc;margin:0;color:#0b1220}
  .wrap{max-width:720px;margin:0 auto;padding:24px}
  .card{background:#fff;border:1px solid #e5ecff;border-radius:16px;box-shadow:0 10px 28px rgba(47,125,217,.14);padding:16px}
  .btn{border:1px solid #d6e4ff;border-radius:999px;min-height:44px;padding:0 16px;background:#fff;font-weight:800;box-shadow:0 6px 18px rgba(47,125,217,.12)}
  .muted{color:#5b6b86}
</style>
<script>
  const API  = (location.origin + "/api").replace(/\/+$/,"");
  const ROOT = API.replace(/\/api$/,"");

  async function pingSession(){
    const ok = await fetch(API + "/auth/session", {credentials:"include"})
      .then(r=>r.ok)
      .catch(()=>false);

    if(ok){ location.replace(ROOT + "/app/dashboard.html"); return; }
    document.getElementById("msg").textContent =
      "Sessão não encontrada. Abra o login pela landing para receber o código.";
  }
  addEventListener("DOMContentLoaded", pingSession);
</script>
<body>
  <div class="wrap">
    <div class="card">
      <h1>Login</h1>
      <p id="msg" class="muted">Verificando sessão…</p>
      <p><a class="btn" href="/" rel="external">Voltar</a></p>
    </div>
  </div>
</body>
